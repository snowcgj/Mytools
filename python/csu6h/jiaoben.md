# 学习make的这个脚本
## 学习过程
### 1、文件主要结构， 
main.py 是脚本运行主逻辑，settings.py是一些配置（一些签名，app-key什么的）
temp.js是从F12文件中粘贴过来的一个js文件，是为了找到某些密钥做出的尝试
chingo.5fc这个，是js脚本的全部内容。

Prettier  安装这个扩展，可以美化排版。

decode.py   mybase64.py就是没用的文件
2、学习体会
### 2、代码逻辑
新建会话session，获得http的post请求参数， 主要是Header头部的构造，data也就是载荷的部分多对比几个不同的包，
就能看出什么特点了
难点就是header中一些参数的获得。
### 3、header的构造
对比两个不同session的header参数（F12开发者工具），发现cookie cgauthorization都是固定的值，完全对比
两个内容的不同，发现主要是timestamp和和sign的不同。

然后sign每次都会变，服务端也没法送过来什么sign，如果发送过来的话，我想是可以直接粘贴的？？？？（目前先存疑吧）。 这个就是签名的原理，主要还是ssh ssl 签名、握手这些东西。

然后推断出是客户端生成的sign， 然后就去客户端接收到的文件中找.js文件， 一个个找里面是否有  timestamp ，然后确定了几个地方， 找到完整的R函数，R函数里面还有变量T， T又牵扯到r，r是一个md5函数，又有一些参数， 参数又牵扯到i一个d['a'], 这个d['a']事后证明是一个模块里面的变量， 然后就ctrl+F找到对应的d['a']， 它的模块， 然后他到d['a'].y  类似这样的数据， 就终于找到了，然后构造就行了。

### 4、获得结果后的处理
相应的内容得到之后，接下来的处理就不赘述了，就好很多了。

### 5、后续学习
尝试爬取xhs内容进行学习训练（不商用、不从事违法活动），结果反爬虫很复杂，时效性很强，现在是10月，9月的现在似乎就不能用了。  算是一个遗憾吧。 上次爬虫都还是大一暑假爬取快手抖音视频，大二寒假 爬取抖音视频了。 每隔一段事件，一个脚本就不用了，也是违法行为，明白原理就行了吧。


